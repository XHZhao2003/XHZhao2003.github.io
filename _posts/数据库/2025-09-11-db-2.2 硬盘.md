---
layout: post
title:  "2.2 硬盘"
category: "数据库"
order: "2"
---

使用二级存储是数据库系统最重要的特点之一，而二级存储基本都是基于磁盘（magnetic disk）的。所以，为了阐明数据库系统实现的一些动机，我们先来考察磁盘操作的细节。

### 2.2.1 硬盘工作机制

磁盘驱动器的两个主要部件是磁盘组件（disk assembly）和磁头组件（head assembly）。磁盘组件包括一个或多个围绕中心主轴旋转的圆盘（platter）。盘的上下表面都覆盖有一层薄的磁性材料，数据位就存储在这些材料上。一个小区域的磁性方向朝向一个方向就表示0，朝向相反的方向就表示1。常见的盘片直径为 3.5 英寸。

数据位存储的位置被组织成磁道（tracks），也就是盘片表面上的一系列同心圆。刺刀占据了盘面的大部分区域，除了靠近主轴的区域。一条磁道上包含许多个点，每个点都通过磁性方向表示一个位。

磁道被划分为扇区（sectors），扇区是圆周上由未被磁化的间隙分隔开的片段。在读写磁盘时，扇区是一个不可分割的基本单位。发生错误时，扇区也是最小的单位。如果磁性表面的某一部分损坏了，从而无法存储信息，那么它所在的整个扇区都无法使用了。间隙通常占据了整个磁道的 10%，并可以用来标识扇区的开始。2.1.3 节提到的磁盘块（block），也就是在主存和磁盘之间传输数据的基本单位，通常包含一个或几个扇区。

另一个部件，磁头，是可以移动的。每个磁盘表面都拥有一个对应的磁头。磁头在距离盘面非常近的位置滑动，但是不会触碰盘面（如果触碰了，这块磁盘连带它存储的数据就被损毁了，这称为磁头碰撞）